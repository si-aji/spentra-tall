(()=>{"use strict";const e={select:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return t.querySelector(e)},selectAll:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return t.querySelectorAll(e)},children:function(e,t){for(var i=[],s=e.children,n=s.length,a=0;a<n;++a){var o=s[a];o.matches(t)&&i.push(o)}return i},parents:function(e,t){for(var i=[];e&&e!==document;e=e.parentNode)t?e.matches(t)&&i.push(e):i.push(e);return i},rect:function(e){var t=window,i=void 0!==t.pageYOffset?t.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,s=e.getBoundingClientRect(),n=t.pageXOffset,a=i;return{left:s.left+n,top:s.top+a,height:s.height,width:s.width}}};function t(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function s(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return n(e,t)}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var s=0,a=function(){};return{s:a,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,c=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){c=!0,o=e},f:function(){try{r||null==i.return||i.return()}finally{if(c)throw o}}}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,s=new Array(t);i<t;i++)s[i]=e[i];return s}function a(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}function r(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,s=l(e);if(t){var n=l(this).constructor;i=Reflect.construct(s,arguments,n)}else i=s.apply(this,arguments);return c(this,i)}}function c(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var h=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}(d,t);var i,n,l,h=r(d);function d(t,i){var s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),(s=h.call(this)).defaultConfig={threshold:40,animation:0,collapseButtonContent:"â€“",expandButtonContent:"+",includeContent:!1,maxDepth:3,showPlaceholderOnMove:!1,nodes:{list:"ol",item:"li"},classes:{list:"nst-list",item:"nst-item",content:"nst-content",parent:"nst-parent",dragging:"nst-dragging",handle:"nst-handle",placeholder:"nst-placeholder",container:"nst-container",button:"nst-button",collapsed:"nst-collapsed",disabled:"nst-disabled",error:"nst-error",moving:"nst-moving"}},s.config=Object.assign({},s.defaultConfig,i),i&&(i.nodes&&(s.config.nodes=Object.assign({},s.defaultConfig.nodes,i.nodes)),i.classes&&(s.config.classes=Object.assign({},s.defaultConfig.classes,i.classes))),s.parent="string"==typeof t?e.select(t):t,s.parent?s.parent._nestable?c(s,console.error("There is already a Nestable instance active on this node.")):(s.initialised=!1,s.disabled=!0,s.last={x:0,y:0},s.init(),s):c(s,console.error("Node (".concat(t,") not found.")))}return i=d,n=[{key:"init",value:function(t){var i=this;if(!this.initialised){this.touch="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,t&&(this.config=Object.assign({},this.defaultConfig,t)),this.dragDepth=0,this.parent.classList.add(this.config.classes.list),this.parent.classList.add(this.config.classes.parent);var n,a=s(e.children(this.parent,this.config.nodes.item));try{for(a.s();!(n=a.n()).done;){var o=n.value;this._nest(o)}}catch(e){a.e(e)}finally{a.f()}if(this.placeholder=document.createElement(this.config.nodes.item),this.placeholder.classList.add(this.config.classes.placeholder),this._getData(),this.parent._nestable=this,window._nestableInstances?(window._nestableInstances+=1,this.id=window._nestableInstances):(window._nestableInstances=1,this.id=1),this.enable(),this._getData(),setTimeout((function(){i.emit("init")}),10),this.initialised=!0,this.config.data){var r=new XMLHttpRequest;r.responseType="json",r.open("GET",this.config.data,!0),r.onload=function(){i.load(r)},r.send(null)}}}},{key:"load",value:function(e){var t=this;this.removeAll(),"response"in e&&(e=e.response);var i,n=function e(i){var n=document.createElement(t.config.nodes.item);if(n.textContent=i.content,i.children){var a=document.createElement(t.config.nodes.list);n.appendChild(a);var o,r=s(i.children);try{for(r.s();!(o=r.n()).done;){var c=o.value;a.appendChild(e(c))}}catch(e){r.e(e)}finally{r.f()}}return n},a=s(e);try{for(a.s();!(i=a.n()).done;){var o=i.value;this._nest(this.parent.appendChild(n(o)))}}catch(e){a.e(e)}finally{a.f()}this.emit("loaded")}},{key:"destroy",value:function(){var t=this;if(this.initialised){this.initialised=!1,this.disable(),this.parent.classList.remove(this.config.classes.list),this.parent.classList.remove(this.config.classes.parent),delete this.parent._nestable,window._nestableInstances&&(window._nestableInstances-=1);var i,n=function i(n){n.classList.remove(t.config.classes.item),n.classList.remove(t.config.classes.collapsed);for(var a=n.querySelector(t.config.nodes.list),o=n.querySelector(".".concat(t.config.classes.content)),r=(n.querySelector(".".concat(t.config.classes.handle)),n.querySelector(".".concat(t.config.classes.button))),c=(o.classList.contains(t.config.classes.handle),document.createDocumentFragment()),l=o.childNodes.length-1;l>=0;l--)c.insertBefore(o.childNodes[l],c.firstChild);if(n.insertBefore(c,o),n.removeChild(o),a){a.classList.remove(t.config.classes.list),n.removeChild(r);var h,d=s(e.children(a,t.config.nodes.item));try{for(d.s();!(h=d.n()).done;)i(h.value)}catch(e){d.e(e)}finally{d.f()}}},a=s(e.children(this.parent,this.config.nodes.item));try{for(a.s();!(i=a.n()).done;)n(i.value)}catch(e){a.e(e)}finally{a.f()}this.emit("destroy",this.parent)}}},{key:"bind",value:function(){this.events={start:this._onMouseDown.bind(this),move:this._onMouseMove.bind(this),end:this._onMouseUp.bind(this)},this.touch?(this.parent.addEventListener("touchstart",this.events.start,!1),document.addEventListener("touchmove",this.events.move,!1),document.addEventListener("touchend",this.events.end,!1),document.addEventListener("touchcancel",this.events.end,!1)):(this.parent.addEventListener("mousedown",this.events.start,!1),document.addEventListener("mousemove",this.events.move,!1),document.addEventListener("mouseup",this.events.end,!1))}},{key:"unbind",value:function(){this.parent.removeEventListener("mousedown",this.events.start),document.removeEventListener("mousemove",this.events.move),document.removeEventListener("mouseup",this.events.end)}},{key:"enable",value:function(){this.disabled&&(this.bind(),this.parent.classList.remove(this.config.classes.disabled),this.disabled=!1)}},{key:"disable",value:function(){this.disabled||(this.unbind(),this.parent.classList.add(this.config.classes.disabled),this.disabled=!0)}},{key:"serialise",value:function(){this.serialize()}},{key:"serialize",value:function(){return this._getData("data")}},{key:"collapseAll",value:function(){var t,i=s(e.selectAll(".".concat(this.config.classes.item),this.parent));try{for(i.s();!(t=i.n()).done;){var n=t.value;if(!n.classList.contains(this.config.classes.collapsed)){var a=n.querySelector(".".concat(this.config.classes.button));a&&this._collapseList(n,a)}}}catch(e){i.e(e)}finally{i.f()}}},{key:"expandAll",value:function(){var t,i=s(e.selectAll(".".concat(this.config.classes.item),this.parent));try{for(i.s();!(t=i.n()).done;){var n=t.value;if(n.classList.contains(this.config.classes.collapsed)){var a=n.querySelector(".".concat(this.config.classes.button));a&&this._expandList(n,a)}}}catch(e){i.e(e)}finally{i.f()}}},{key:"add",value:function(t,i){if(i||(i=this.parent),this._nest(t),i!==this.parent){var s=e.select(this.config.nodes.list,i);i=s||this._makeParent(i)}i.appendChild(t),this.update()}},{key:"remove",value:function(t){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=t.closest(this.config.nodes.list);if(i)s.removeChild(t);else{var n=t.querySelector(".".concat(this.config.classes.list));if(n){var a=e.children(n,this.config.nodes.item);if(a.length){for(var o=document.createDocumentFragment(),r=a.length-1;r>=0;r--){var c=a[r];o.insertBefore(c,o.firstElementChild)}s.replaceChild(o,t)}}}this.update()}},{key:"removeAll",value:function(){for(var e=this.parent.children,t=e.length-1;t>=0;t--)this.parent.removeChild(e[t])}},{key:"update",value:function(){this._getData("nodes"),this.emit("update")}},{key:"_nest",value:function(t){var i=t.querySelector(".".concat(this.config.classes.handle)),n=document.createElement("div");n.classList.add(this.config.classes.content);var a=t.childNodes;if(i)for(r=a.length-1;r>=0;r--){var o=a[r];o!==i&&o.nodeName.toLowerCase()!==this.config.nodes.list&&n.insertBefore(o,n.firstChild)}else{n.classList.add(this.config.classes.handle);for(var r=a.length-1;r>=0;r--){var c=a[r];c.nodeName.toLowerCase()!==this.config.nodes.list&&n.insertBefore(c,n.firstChild)}}t.classList.add(this.config.classes.item);var l=t.querySelector(this.config.nodes.list);if(l){t.insertBefore(n,l);var h=this._makeParent(t),d=e.children(h,this.config.nodes.item);t.classList.contains(this.config.classes.collapsed)&&this._collapseList(t);var f,u=s(d);try{for(u.s();!(f=u.n()).done;){var p=f.value;this._nest(p)}}catch(e){u.e(e)}finally{u.f()}}else t.appendChild(n)}},{key:"_isDisabled",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"disabled";if(null===t)return!1;if("nestableDisabled"in t.dataset&&("disabled"===i&&(!t.dataset.nestableDisabled.length||"disabled"===t.dataset.nestableDisabled)||"dragging"===i&&"dragging"===t.dataset.nestableDisabled||"nesting"===i&&"nesting"===t.dataset.nestableDisabled))return!0;if(t.classList.contains(this.config.classes.disabled))return!0;var s=e.parents(t,".".concat(this.config.classes.disabled));return!!s.length}},{key:"_getEvent",value:function(e){return this.touch?"touchend"===e.type?e.changedTouches[0]:e.touches[0]:e}},{key:"_onMouseDown",value:function(t){var i=this._getEvent(t),s=t.target.closest(".".concat(this.config.classes.button)),n=t.target.closest(".".concat(this.config.classes.item));if(s)return this._toggleList(n,s);if(!t.target.closest(".".concat(this.config.classes.handle)))return!1;if(n){if(this._isDisabled(n)||this._isDisabled(n.parentNode.closest(".".concat(this.config.classes.item))))return!1;if(this._isDisabled(n,"dragging"))return this.emit("error.dragging.disabled",n),!1;t.preventDefault(),this.parent.classList.add(this.config.classes.moving),n.classList.add(this.config.classes.dragging);var a=e.rect(n);if(this.origin={x:i.pageX,y:i.pageY,original:{x:i.pageX,y:i.pageY}},this.hierarchy={movedNode:n,originalParent:n.parentNode,originalParentItem:n.parentNode.closest(".".concat(this.config.classes.item))},this.active={maxDepth:!1,collapsedParent:!1,disabledParent:!1,confinedParent:!1,node:n,rect:a,parent:!1,axis:!1},"nestableParent"in n.dataset){var o=document.getElementById(n.dataset.nestableParent);o&&(this.active.parent=o)}if("nestableAxis"in n.dataset){var r=n.dataset.nestableAxis;"x"===r?this.active.axis="x":"y"===r&&(this.active.axis="y")}this.placeholder.style.height="".concat(a.height,"px"),this.config.showPlaceholderOnMove&&(this.placeholder.style.opacity=0),this.container||(this.container=document.createElement(this.config.nodes.list),this.container.classList.add(this.config.classes.list),this.container.classList.add(this.config.classes.container),this.container.id="nestable_".concat(this.id)),this.container.style.left="".concat(a.left,"px"),this.container.style.top="".concat(a.top,"px"),this.container.style.height="".concat(a.height,"px"),this.container.style.width="".concat(a.width,"px"),n.parentNode.insertBefore(this.placeholder,n),document.body.appendChild(this.container),this.container.appendChild(n),this.newParent=!1,this.dragDepth=0;for(var c=e.selectAll(this.config.nodes.item,n),l=0;l<c.length;l++){var h=e.parents(c[l],this.config.nodes.list).length-1;h>this.dragDepth&&(this.dragDepth=h)}this.emit("start",this.active)}}},{key:"_onMouseMove",value:function(t){if(this.active){this.config.showPlaceholderOnMove&&(this.placeholder.style.opacity=1);var i=(t=this._getEvent(t)).pageX-this.origin.x,n=t.pageY-this.origin.y;t.pageY>this.last.y?this.last.dirY=1:t.pageY<this.last.y&&(this.last.dirY=-1),t.pageX>this.last.x?this.last.dirX=1:t.pageX<this.last.x&&(this.last.dirX=-1);var a=!1;Math.abs(i)>Math.abs(n)?a="x":Math.abs(i)<Math.abs(n)&&(a="y");var o=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,r=document.elementsFromPoint(t.pageX,t.pageY-o);if("x"===a&&"y"!==this.active.axis){if(this.last.dirX>0&&i>this.config.threshold){var c=this.placeholder.previousElementSibling;if(c)if(c.classList.contains(this.config.classes.collapsed))this.active.collapsedParent||(this.emit("error.collapsed",this.active.node,c),this.active.collapsedParent=!0);else{var l=this._isDisabled(c),h=this._isDisabled(c,"nesting");if(l)this.active.disabledParent||(this.emit("error.disabled"),this.active.disabledParent=!0);else{var d=e.parents(this.placeholder,this.config.nodes.list).length+this.dragDepth<=this.config.maxDepth,f=c.querySelector(this.config.nodes.list);if(h)this.active.nestDisabled||(this.emit("error.nesting.disabled",this.active.node),this.active.nestDisabled=!0);else if(d){this.active.maxDepth=!1;var u=this.placeholder.closest(".".concat(this.config.classes.list));f||(f=this._makeParent(c)),this._moveElement(this.placeholder,{parent:f,type:"appendChild"}),this.emit("nest",f,u),this.origin.x=t.pageX}else this.active.maxDepth||(this.emit("error.maxdepth",this.active.node,this.config.maxDepth),this.active.maxDepth=!0)}}}else if(this.last.dirX<0&&i<-this.config.threshold){this.active.maxDepth=!1,this.active.nestDisabled=!1,this.active.disabledParent=!1,this.active.collapsedParent=!1;var p=this.placeholder.closest(this.config.nodes.list),v=p.closest(this.config.nodes.item);if(v&&(p.childElementCount>1&&this.placeholder!==p.firstElementChild||p.childElementCount<2&&this.placeholder===p.firstElementChild)){var g=v.nextElementSibling,m=this.placeholder.closest(".".concat(this.config.classes.list));if(g){var y=g.closest(this.config.nodes.list);this._moveElement(this.placeholder,{parent:y,type:"insertBefore",sibling:g}),this.origin.x=t.pageX}else this._moveElement(this.placeholder,{parent:v.closest(this.config.nodes.list),type:"appendChild"}),this.origin.x=t.pageX;this.emit("unnest",v,m)}}}else{var b,_=s(r);try{for(_.s();!(b=_.n()).done;){var w=b.value;if(w!==this.active.node&&!this.active.node.contains(w)&&w.classList.contains(this.config.classes.content)&&"x"!==this.active.axis){var x=w.closest(".".concat(this.config.classes.item));if(x&&"y"===a)if(x.querySelector(this.config.nodes.list)&&!x.classList.contains(this.config.classes.collapsed))this.last.dirY>0?this._moveElement(this.placeholder,{parent:x.lastElementChild,type:"insertBefore",sibling:x.lastElementChild.firstElementChild,animatable:x.querySelector(".".concat(this.config.classes.content))}):this.last.dirY<0&&this._moveElement(this.placeholder,{parent:x.parentNode,type:"insertBefore",sibling:x,animatable:x.querySelector(".".concat(this.config.classes.content))}),this.emit("reorder");else{if(this.last.dirY>0){var E=x.nextElementSibling;E?this._moveElement(this.placeholder,{parent:x.parentNode,type:"insertBefore",sibling:E,animatable:x.querySelector(".".concat(this.config.classes.content))}):this._moveElement(this.placeholder,{parent:x.closest(this.config.nodes.list),type:"appendChild",animatable:x.querySelector(".".concat(this.config.classes.content))})}else this.last.dirY<0&&this._moveElement(this.placeholder,{parent:x.parentNode,type:"insertBefore",sibling:x,animatable:x.querySelector(".".concat(this.config.classes.content))});this.emit("reorder")}var L=x.closest(".".concat(this.config.classes.parent));L&&L!==this.parent&&L._nestable&&(this.newParent=L)}}}catch(e){_.e(e)}finally{_.f()}}this.placeholder.classList.toggle(this.config.classes.error,this.active.disabledParent||this.active.maxDepth||this.active.collapsedParent||this.active.confinedParent);var C=t.pageX-this.origin.original.x,P=t.pageY-this.origin.original.y;this.active.axis&&("x"===this.active.axis?P=0:"y"===this.active.axis&&(C=0)),this.container.style.transform="translate3d(".concat(C,"px, ").concat(P,"px, 0)"),this.lastParent=this.placeholder.parentNode,this.hierarchy.newParent=this.lastParent,this.hierarchy.newParentItem=this.lastParent.closest(".".concat(this.config.classes.item)),this.emit("move",this.active)}this.last={x:t.pageX,y:t.pageY}}},{key:"_moveElement",value:function(t,i){var s=!1,n=!1;if(this._isDisabled(i.parent)||this._isDisabled(i.parent.closest(".".concat(this.config.classes.item))))return!1;if(this.active.parent&&!e.parents(i.parent,"#".concat(this.active.parent.id)).includes(this.active.parent))return this.active.confinedParent||(this.emit("error.confined",t,this.active.parent,i.parent),this.active.confinedParent=!0),!1;var a=t.closest(this.config.nodes.list);this.config.animation>0&&(s=e.rect(this.placeholder),i.animatable&&(n=e.rect(i.animatable))),"insertBefore"===i.type?i.parent.insertBefore(t,i.sibling):"appendChild"===i.type&&i.parent.appendChild(t),a.childElementCount||this._unmakeParent(a.parentNode),this.emit("order.change",this.active.node,i.parent,a),this.config.animation>0&&(this._animateElement(this.placeholder,s),i.animatable&&n&&this._animateElement(i.animatable,n))}},{key:"_animateElement",value:function(t,i){var s=t.style,n=e.rect(t),a=i.left-n.left,o=i.top-n.top;s.transform="translate3d(".concat(a,"px, ").concat(o,"px, 0px)"),this._repaint(t),s.transform="translate3d(0px, 0px, 0px)",s.transition="transform ".concat(this.config.animation,"ms"),setTimeout((function(){s.transform="",s.transition=""}),this.config.animation)}},{key:"_repaint",value:function(e){return e.offsetHeight}},{key:"_onMouseUp",value:function(t){if(this.active){this.config.showPlaceholderOnMove&&(this.placeholder.style.opacity=0),t=this._getEvent(t);var i=e.rect(this.active.node);this.container.removeAttribute("style"),this.parent.classList.remove(this.config.classes.moving),this.placeholder.parentNode.replaceChild(this.active.node,this.placeholder),this._animateElement(this.active.node,i),this.placeholder.classList.remove(this.config.classes.error),this.active.node.classList.remove(this.config.classes.dragging),this.active=!1,document.body.removeChild(this.container),this._getData(),this.newParent&&(this.hierarchy.newInstance=this.newParent._nestable,this.newParent._nestable._getData()),this.hierarchy.hierarchy=this.data,this.emit("stop",this.hierarchy),this.update()}}},{key:"_toggleList",value:function(e,t){e.classList.contains(this.config.classes.collapsed)?this._expandList(e,t):this._collapseList(e,t)}},{key:"_collapseList",value:function(e,t){t||(t=e.querySelector(".".concat(this.config.classes.button))),t.textContent=this.config.expandButtonContent,e.classList.add(this.config.classes.collapsed),this.emit("list.collapse",e)}},{key:"_expandList",value:function(e,t){t||(t=e.querySelector(".".concat(this.config.classes.button))),t.textContent=this.config.collapseButtonContent,e.classList.remove(this.config.classes.collapsed),this.emit("list.expand",e)}},{key:"_makeParent",value:function(e){var t=e.querySelector(this.config.nodes.list);t?t.classList.add(this.config.classes.list):((t=document.createElement(this.config.nodes.list)).classList.add(this.config.classes.list),e.appendChild(t));var i=document.createElement("button");return i.classList.add(this.config.classes.button),i.type="button",i.textContent=this.config.collapseButtonContent,e.insertBefore(i,e.firstElementChild),t}},{key:"_unmakeParent",value:function(e){var t=e.querySelector(this.config.nodes.list),i=e.querySelector("button");t&&e.removeChild(t),i&&e.removeChild(i)}},{key:"_getData",value:function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"nodes",s=[],n=function s(n){var a=[];return e.children(n,t.config.nodes.item).forEach((function(e){var n={};if("nodes"===i)n.node=e;else if(n.data=Object.assign({},e.dataset),t.config.includeContent){var o=e.querySelector(".".concat(t.config.classes.content));o&&(n.content=o.innerHTML)}var r=e.querySelector(t.config.nodes.list);r&&(n.children=s(r)),a.push(n)})),a};return s=n(this.parent),"nodes"===i&&(this.data=s),s}}],n&&a(i.prototype,n),l&&a(i,l),Object.defineProperty(i,"prototype",{writable:!1}),d}(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var i,s,n;return i=e,s=[{key:"on",value:function(e,t,i){"string"==typeof e?(this.listeners=this.listeners||{},this.listeners[e]=this.listeners[e]||[],this.listeners[e].push(t)):arguments[0].addEventListener(arguments[1],arguments[2],!1)}},{key:"off",value:function(e,t){if("string"==typeof e){if(this.listeners=this.listeners||{},e in this.listeners==0)return;this.listeners[e].splice(this.listeners[e].indexOf(t),1)}else arguments[0].removeEventListener(arguments[1],arguments[2])}},{key:"emit",value:function(e){if(this.listeners=this.listeners||{},e in this.listeners!=0)for(var t=0;t<this.listeners[e].length;t++)this.listeners[e][t].apply(this,Array.prototype.slice.call(arguments,1))}}],s&&t(i.prototype,s),n&&t(i,n),Object.defineProperty(i,"prototype",{writable:!1}),e}());window.Nestable=h})();
//# sourceMappingURL=nestable.js.map